<div class="dashboard-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1>Dashboard</h1>
    <p>Chào mừng trở lại! Đây là tổng quan về hệ thống của bạn.</p>
  </div>

  <!-- Stats Cards -->
  <div class="stats-grid">
    <mat-card *ngFor="let card of statsCards" class="stat-card" [class]="'stat-card-' + card.color">
      <mat-card-content>
        <div class="stat-content">
          <div class="stat-info">
            <h3>{{ card.title }}</h3>
            <div class="stat-value">{{ card.value }}</div>
            <div class="stat-trend" *ngIf="card.trend">
              <mat-icon [class]="card.trend.isPositive ? 'trend-up' : 'trend-down'">
                {{ card.trend.isPositive ? 'trending_up' : 'trending_down' }}
              </mat-icon>
              <span>{{ card.trend.value }}%</span>
            </div>
          </div>
          <div class="stat-icon">
            <mat-icon>{{ card.icon }}</mat-icon>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Main Content Grid -->
  <div class="content-grid">
    <!-- Recent Activities -->
    <mat-card class="activity-card">
      <mat-card-header>
        <mat-card-title>Hoạt động gần đây</mat-card-title>
        <mat-card-subtitle>Các hoạt động mới nhất trong hệ thống</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="activity-list">
          <div *ngFor="let activity of recentActivities" 
               class="activity-item"
               [class]="'activity-' + activity.type">
            <div class="activity-icon">
              <mat-icon>{{ getActivityIcon(activity.type) }}</mat-icon>
            </div>
            <div class="activity-content">
              <div class="activity-text">
                <strong>{{ activity.user }}</strong> 
                {{ activity.action }} 
                <span class="activity-target">{{ activity.target }}</span>
              </div>
              <div class="activity-time">
                {{ activity.timestamp | date:'dd/MM/yyyy HH:mm' }}
              </div>
            </div>
            <mat-chip [class]="'chip-' + activity.type">
              {{ getActivityTypeLabel(activity.type) }}
            </mat-chip>
          </div>
        </div>
        <div class="activity-footer">
          <button mat-button color="primary">Xem tất cả</button>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- System Status -->
    <mat-card class="status-card">
      <mat-card-header>
        <mat-card-title>Trạng thái hệ thống</mat-card-title>
        <mat-card-subtitle>Hiệu suất và tình trạng các dịch vụ</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="status-list">
          <div *ngFor="let status of systemStatus" class="status-item">
            <div class="status-info">
              <div class="status-name">{{ status.name }}</div>
              <div class="status-percentage">{{ status.value }}%</div>
            </div>
            <mat-progress-bar 
              [value]="status.value" 
              [color]="status.value > 80 ? 'primary' : status.value > 60 ? 'accent' : 'warn'"
              class="status-bar">
            </mat-progress-bar>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Quick Actions -->
    <mat-card class="actions-card">
      <mat-card-header>
        <mat-card-title>Thao tác nhanh</mat-card-title>
        <mat-card-subtitle>Các tác vụ thường xuyên sử dụng</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="actions-grid">
          <button *ngFor="let action of quickActions" 
                  mat-raised-button 
                  [color]="action.color"
                  class="action-button"
                  (click)="performAction(action.action)">
            <mat-icon>{{ action.icon }}</mat-icon>
            <span>{{ action.label }}</span>
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
